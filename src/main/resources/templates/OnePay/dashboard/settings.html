<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <!--Title-->
    <title>OnePay: Account-Settings</title>

    <!-- Meta -->
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="telephone=no" name="format-detection">

    <!-- MOBILE SPECIFIC -->
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <!-- Favicon icon -->
    <link rel="icon" sizes="16x16" th:href="@{/dashboardassets/images/favicon.png}" type="image/png">
    <link rel="stylesheet" th:href="@{/dashboardassets/vendor/jqvmap/css/jqvmap.min.css}">
    <link rel="stylesheet" th:href="@{/dashboardassets/vendor/chartist/css/chartist.min.css}">

    <!-- Vectormap -->
    <link rel="stylesheet" th:href="@{/dashboardassets/vendor/jqvmap/css/jqvmap.min.css}">
    <link rel="stylesheet" th:href="@{/dashboardassets/vendor/bootstrap-select/dist/css/bootstrap-select.min.css}">
    <link rel="stylesheet" th:href="@{/dashboardassets/vendor/owl-carousel/owl.carousel.css}">
    <link class="main-css" rel="stylesheet" th:href="@{/dashboardassets/css/style.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js">

</head>

<body>

<!--*******************
    Preloader start
********************-->
<!--<div id="preloader">-->
<!--    <div class="sk-three-bounce">-->
<!--        <div class="sk-child sk-bounce1"></div>-->
<!--        <div class="sk-child sk-bounce2"></div>-->
<!--        <div class="sk-child sk-bounce3"></div>-->
<!--    </div>-->
<!--</div>-->
<!--*******************
    Preloader end
********************-->

<!--**********************************
    Main wrapper start
***********************************-->
<div id="main-wrapper">

    <!--**********************************
        Nav header start
    ***********************************-->
    <div class="nav-header">
        <a class="brand-logo" href="/OnePay/dashboard/index">
            <img alt="" class="logo-abbr" src="/assets/images/logo-wallet.png">
            <img alt="" class="logo-compact" src="/assets/images/logo-word.png">
            <img alt="" class="brand-title" src="/assets/images/logo-word.png">
        </a>

        <div class="nav-control">
            <div class="hamburger">
                <span class="line"></span><span class="line"></span><span class="line"></span>
            </div>
        </div>
    </div>
    <!--**********************************
        Nav header end
    ***********************************-->


    <!--**********************************
        Header start
    ***********************************-->
    <div class="header">
        <div class="header-content">
            <nav class="navbar navbar-expand">
                <div class="collapse navbar-collapse justify-content-between">
                    <div class="header-left">
                        <div class="dashboard_bar">
                            <div class="input-group search-area d-lg-inline-flex d-none">
                            </div>
                        </div>
                    </div>
                    <ul class="navbar-nav header-right">
                        <li class="nav-item">
                            <div class="d-flex weather-detail">
                                <span><i class="fa-solid fa-cloud"></i>32°C</span>
                                Singapore
                            </div>
                        </li>
<!--                        <div>-->
<!--                            <li class="nav-item dropdown notification_dropdown">-->
<!--                                <a class="nav-link bell dz-theme-mode" href="javascript:void(0);">-->
<!--                                    <i id="icon-light" class="fas fa-sun"></i>-->
<!--                                    <i id="icon-dark" class="fas fa-moon"></i>-->
<!--                                </a>-->
<!--                            </li>-->
<!--                        </div>-->

                        <li class="nav-item dropdown notification_dropdown">
                            <a class="nav-link  ai-icon" data-bs-toggle="dropdown" href="javascript:void(0)"
                               role="button">
                                <svg fill="none" height="20" viewBox="0 0 28 28" width="20"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path clip-rule="evenodd"
                                          d="M12.6001 4.3008V1.4C12.6001 0.627199 13.2273 0 14.0001 0C14.7715 0 15.4001 0.627199 15.4001 1.4V4.3008C17.4805 4.6004 19.4251 5.56639 20.9287 7.06999C22.7669 8.90819 23.8001 11.4016 23.8001 14V19.2696L24.9327 21.5348C25.4745 22.6198 25.4171 23.9078 24.7787 24.9396C24.1417 25.9714 23.0147 26.6 21.8023 26.6H15.4001C15.4001 27.3728 14.7715 28 14.0001 28C13.2273 28 12.6001 27.3728 12.6001 26.6H6.19791C4.98411 26.6 3.85714 25.9714 3.22014 24.9396C2.58174 23.9078 2.52433 22.6198 3.06753 21.5348L4.20011 19.2696V14C4.20011 11.4016 5.23194 8.90819 7.07013 7.06999C8.57513 5.56639 10.5183 4.6004 12.6001 4.3008ZM14.0001 6.99998C12.1423 6.99998 10.3629 7.73779 9.04973 9.05099C7.73653 10.3628 7.00011 12.1436 7.00011 14V19.6C7.00011 19.817 6.94833 20.0312 6.85173 20.2258C6.85173 20.2258 6.22871 21.4718 5.57072 22.7864C5.46292 23.0034 5.47412 23.2624 5.60152 23.4682C5.72892 23.674 5.95431 23.8 6.19791 23.8H21.8023C22.0445 23.8 22.2699 23.674 22.3973 23.4682C22.5247 23.2624 22.5359 23.0034 22.4281 22.7864C21.7701 21.4718 21.1471 20.2258 21.1471 20.2258C21.0505 20.0312 21.0001 19.817 21.0001 19.6V14C21.0001 12.1436 20.2623 10.3628 18.9491 9.05099C17.6359 7.73779 15.8565 6.99998 14.0001 6.99998Z"
                                          fill="#3E4954"
                                          fill-rule="evenodd"/>
                                </svg>
                                <!--                                <span class="badge light text-white bg-primary rounded-circle ">12</span>-->
                            </a>
                            <div class="dropdown-menu dropdown-menu-end">
                                <div class="widget-media dz-scroll p-3 justify-content-center align-items-center" id="DZ_W_Notification1">
                                    <div>
                                        Empty notification.
                                    </div>
                                </div>
                                <a class="all-notification" >See all notifications <i class="ti-arrow-right"></i></a>
                                <!--                                href="javascript:void(0)"-->
                            </div>
                        </li>

                        <li class="nav-item dropdown header-profile">
                            <a class="nav-link" data-bs-toggle="dropdown" href="javascript:void(0)" role="button">
                                <div class="header-info">
                                    <span class="text-black">Hello, <strong id="username" th:text="${#strings.capitalize(session.username.toLowerCase())}">Franklin</strong></span>
                                    <p class="fs-12 mb-0">Normal User</p>
                                </div>
                                <img alt="" src="/dashboardassets/images/profile/17.jpg" width="20">
                            </a>
                            <div class="dropdown-menu dropdown-menu-end">
                                <a class="dropdown-item ai-icon" th:href="@{/OnePay/dashboard/app-profile}">
                                    <svg class="text-primary" fill="none" height="18"
                                         id="icon-user1" stroke="currentColor" stroke-linecap="round"
                                         stroke-linejoin="round" stroke-width="2"
                                         viewBox="0 0 24 24" width="18" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                    <span class="ms-2">Profile </span>
                                </a>
                                <a class="dropdown-item ai-icon" href="/OnePay/home">
                                    <svg class="text-danger" fill="none" height="18"
                                         id="icon-logout" stroke="currentColor" stroke-linecap="round"
                                         stroke-linejoin="round" stroke-width="2"
                                         viewBox="0 0 24 24" width="18" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                                        <polyline points="16 17 21 12 16 7"></polyline>
                                        <line x1="21" x2="9" y1="12" y2="12"></line>
                                    </svg>
                                    <span class="ms-2">Logout</span>
                                </a>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </div>
    <!--**********************************
        Header end ti-comment-alt
    ***********************************-->

    <!--**********************************
        Sidebar start
    ***********************************-->
    <div class="deznav">
        <div class="deznav-scroll">
            <ul class="metismenu" id="menu">


                <li>
                    <a href="/OnePay/dashboard/index">
                        <i class=" fas fa-th-large" ></i>
                        <span class="nav-text align-content-center ">Dashboard</span>
                    </a>
                </li>



                <li>
                    <a aria-expanded="false" href="javascript:void(0);" data-bs-toggle="collapse" data-bs-target="#walletSubmenu" aria-controls="walletSubmenu"  style="display: flex; justify-content: space-between; align-items: center;">
                        <i class="fas fa-wallet"></i>
                        <span class="nav-text">My Wallet</span>
                        <i class="fas fa-chevron-right dropdown-chevron" style="float:right;"></i>
                    </a>

                    <!-- Submenu (collapsed by default) -->
                    <ul class="collapse" id="walletSubmenu">
                        <li><a href="/OnePay/dashboard/wallet-details">Wallet Details</a></li>
                        <li><a href="/OnePay/dashboard/history">Wallet History</a></li>
                        <!-- about top-up/withdraw history-->
                    </ul>
                </li>


                <li>
                    <a aria-expanded="false" href="javascript:void(0);" data-bs-toggle="collapse" data-bs-target="#transferSubmenu" aria-controls="transferSubmenu" style="display: flex; justify-content: space-between; align-items: center;">
                        <i class="fa-solid fa-money-bill-alt"></i>
                        <span class="nav-text">Transfer</span>
                        <i class="fas fa-chevron-right dropdown-chevron" style="float:right;"></i> <!-- Chevron for the dropdown arrow -->
                    </a>
                    <!-- Submenu (collapsed by default) -->
                    <ul class="collapse" id="transferSubmenu">
                        <li><a href="/OnePay/dashboard/moneytransfer">Money Transfer</a></li>
                        <li><a href="/OnePay/dashboard/transfer-history">Transfer History</a></li>
                    </ul>
                </li>

                <li>
                    <a aria-expanded="false" href="javascript:void(0);" data-bs-toggle="collapse" data-bs-target="#accountSubmenu" aria-controls="accountSubmenu" style="display: flex; justify-content: space-between; align-items: center;">
                        <i class="fa-regular fa-user"></i>
                        <span class="nav-text">Account</span>
                        <i class="fas fa-chevron-down dropdown-chevron" style="float:right;"></i>
                    </a>
                    <!-- Submenu (collapsed by default) -->
                    <ul class="collapse show" id="accountSubmenu">
                        <li><a href="/OnePay/dashboard/account-details">Account Details</a></li>
                        <li><a href="/OnePay/dashboard/settings" style="cursor: pointer; color: var(--primary);">Settings</a></li>
                        <li><a href="/OnePay/dashboard/activity-history">Activity History</a></li>
                        <li><a href="/OnePay/dashboard/terms&conditions">Terms & Conditions</a></li>
                    </ul>
                </li>

                <li>
                    <a class="submenu-icon" href="/OnePay/home" >
                        <i class=" fas fa-sign-out-alt" ></i>
                        <span class="nav-text align-content-center" >Log Out</span>
                    </a>
                </li>

                <div class="copyright copyright-style">
                    <p><strong>OnePay Payment Dashboard</strong> © 2024 All Rights Reserved</p>
                    <p>Made with <span class="heart"></span> by FYP-24-S3-14</p>
                </div>
            </ul>
        </div>
    </div>
    <!--**********************************
        Sidebar end
    ***********************************-->

    <!--**********************************
        Content body start
    ***********************************-->
    <div class="content-body default-height">
        <!-- row -->
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 container-fluid">
            <div class="form-head mb-4">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a>Account</a></li>
                    <li class="breadcrumb-item active"><a href="/OnePay/dashboard/settings">Settings</a></li>
                </ol>
            </div>
            <div class="col-12">
                <div class="card">
                    <div class="card-header d-sm-flex d-block border-0 pb-0">
                        <div class="pr-3 mb-sm-0 mb-3 me-auto">
                            <h2 class="text-black font-w600 fs-20 text-black mb-1">Notification Management</h2>
                        </div>
                    </div>
                    <hr>
                    <div class="card-body">

                        <form id="notification-form">
                            <div>
                                <a aria-expanded="false" href="javascript:void(0);" data-bs-toggle="collapse" data-bs-target="#digitalTransactionAlert"
                                   aria-controls="digitalTransactionAlert" style="display: flex; text-align: left">
                                    <div class="col-sm-6">
                                        <label class="fs-18 text-black font-w500">Digital Transaction Alert</label>
                                    </div>
                                    <i class="fas fa-chevron-down dropdown-chevron" style="float:right;"></i>
                                </a>
                                <!-- (collapsed by default) -->
                                <ul class="collapse show" id="digitalTransactionAlert">
                                    <li style="padding: 1rem">
                                        <div class="col-sm-6 " style="padding-bottom: 0.5rem; " >Add Payee</div>
                                        <div class="col-sm-3 col-6">
                                            <div class="form-check custom-checkbox me-4 mb-0 d-inline-block">
                                                <input type="checkbox" class="form-check-input mb-0" id="addCheckboxNotEmail" required="">
                                                <label class="form-check-label mb-0" for="addCheckboxNotEmail">Email</label>
                                            </div>
                                        </div>
                                        <div class="col-sm-3 col-6">
                                            <div class="form-check custom-checkbox me-4 mb-0 d-inline-block">
                                                <input type="checkbox" class="form-check-input mb-0" id="addCheckboxNotSMS" required="">
                                                <label class="form-check-label mb-0" for="addCheckboxNotSMS">SMS</label>
                                            </div>
                                        </div>
                                    </li>
                                    <li style="padding: 1rem">
                                        <div class="col-sm-6" style="padding-bottom: 0.5rem" >Wallet Top-up</div>
                                        <div class="col-sm-3 col-6">
                                            <div class="form-check custom-checkbox me-4 mb-0 d-inline-block">
                                                <input type="checkbox" class="form-check-input mb-0" id="topupCheckboxNotEmail" required="">
                                                <label class="form-check-label mb-0" for="topupCheckboxNotEmail">Email</label>
                                            </div>
                                        </div>
                                        <div class="col-sm-3 col-6">
                                            <div class="form-check custom-checkbox me-4 mb-0 d-inline-block">
                                                <input type="checkbox" class="form-check-input mb-0" id="topupCheckboxNotSMS" required="">
                                                <label class="form-check-label mb-0" for="topupCheckboxNotSMS">SMS</label>
                                            </div>
                                        </div>
                                    </li>
                                    <li style="padding: 1rem">
                                        <div class="col-sm-6" style="padding-bottom: 0.5rem" >Wallet Withdraw</div>
                                        <div class="col-sm-3 col-6">
                                            <div class="form-check custom-checkbox me-4 mb-0 d-inline-block">
                                                <input type="checkbox" class="form-check-input mb-0" id="withdrawCheckboxNotEmail" required="">
                                                <label class="form-check-label mb-0" for="withdrawCheckboxNotEmail">Email</label>
                                            </div>
                                        </div>
                                        <div class="col-sm-3 col-6">
                                            <div class="form-check custom-checkbox me-4 mb-0 d-inline-block">
                                                <input type="checkbox" class="form-check-input mb-0" id="withdrawCheckboxNotSMS" required="">
                                                <label class="form-check-label mb-0" for="withdrawCheckboxNotSMS">SMS</label>
                                            </div>
                                        </div>
                                    </li>
                                    <li style="padding: 1rem">
                                        <div class="col-sm-6" style="padding-bottom: 0.5rem" >Funds Transfer to My Account</div>
                                        <div class="col-sm-3 col-6">
                                            <div class="form-check custom-checkbox me-4 mb-0 d-inline-block">
                                                <input type="checkbox" class="form-check-input mb-0" id="transAccCheckboxNotEmail" required="">
                                                <label class="form-check-label mb-0" for="transAccCheckboxNotEmail">Email</label>
                                            </div>
                                        </div>
                                        <div class="col-sm-3 col-6">
                                            <div class="form-check custom-checkbox me-4 mb-0 d-inline-block">
                                                <input type="checkbox" class="form-check-input mb-0" id="transAccCheckboxNotSMS" required="">
                                                <label class="form-check-label mb-0" for="transAccCheckboxNotSMS">SMS</label>
                                            </div>
                                        </div>
                                    </li>
                                    <li style="padding: 1rem">
                                        <div class="col-sm-6" style="padding-bottom: 0.5rem" >Funds Transfer to Other Account</div>
                                        <div class="col-sm-3 col-6">
                                            <div class="form-check custom-checkbox me-4 mb-0 d-inline-block">
                                                <input type="checkbox" class="form-check-input mb-0" id="transOtherCheckboxNotEmail" required="">
                                                <label class="form-check-label mb-0" for="transOtherCheckboxNotEmail">Email</label>
                                            </div>
                                        </div>
                                        <div class="col-sm-3 col-6">
                                            <div class="form-check custom-checkbox me-4 mb-0 d-inline-block">
                                                <input type="checkbox" class="form-check-input mb-0" id="transOtherCheckboxNotSMS" required="">
                                                <label class="form-check-label mb-0" for="transOtherCheckboxNotSMS">SMS</label>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>

                            <div>
                                <a aria-expanded="false" href="javascript:void(0);" data-bs-toggle="collapse" data-bs-target="#personalAccAlert"
                                   aria-controls="personalAccAlert" style="display: flex; text-align: left; padding-top: 1.875rem;">
                                    <div class="col-sm-6">
                                        <label class="fs-18 text-black font-w500" >Personal Account Alert</label>
                                    </div>
                                    <i class="fas fa-chevron-down dropdown-chevron" style="float:right;"></i>
                                </a>
                                <!-- (collapsed by default) -->
                                <ul class="collapse show" id="personalAccAlert">
                                    <li style="padding: 1rem">
                                        <div class="col-sm-6" style="padding-bottom: 0.5rem" >Update Personal and Account Details</div>
                                        <div class="col-sm-3 col-6">
                                            <div class="form-check custom-checkbox me-4 mb-0 d-inline-block">
                                                <input type="checkbox" class="form-check-input mb-0" id="updateAccCheckboxNotEmail" required="">
                                                <label class="form-check-label mb-0" for="updateAccCheckboxNotEmail">Email</label>
                                            </div>
                                        </div>
                                        <div class="col-sm-3 col-6">
                                            <div class="form-check custom-checkbox me-4 mb-0 d-inline-block">
                                                <input type="checkbox" class="form-check-input mb-0" id="updateAccCheckboxNotSMS" required="">
                                                <label class="form-check-label mb-0" for="updateAccCheckboxNotSMS">SMS</label>
                                            </div>
                                        </div>
                                    </li>
                                    <li style="padding: 1rem">
                                        <div class="col-sm-6"  style="padding-bottom: 0.5rem">Update Billing Address</div>
                                        <div class="col-sm-3 col-6">
                                            <div class="form-check custom-checkbox me-4 mb-0 d-inline-block">
                                                <input type="checkbox" class="form-check-input mb-0" id="updateBillingCheckboxNotEmail" required="">
                                                <label class="form-check-label mb-0" for="updateBillingCheckboxNotEmail">Email</label>
                                            </div>
                                        </div>
                                        <div class="col-sm-3 col-6">
                                            <div class="form-check custom-checkbox me-4 mb-0 d-inline-block">
                                                <input type="checkbox" class="form-check-input mb-0" id="updateBillingCheckboxNotSMS" required="">
                                                <label class="form-check-label mb-0" for="updateBillingCheckboxNotSMS">SMS</label>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <div class=" text-end">
                                <a  class="btn btn-white">Discard</a>
                                <a  type="submit"  class="btn btn-primary ms-2">Save Changes</a>
                            </div>
                        </form>
                        <div id="resultMessage" class="mt-3"></div>
                    </div>
                </div>

        </div>
    </div>
    <!--**********************************
        Content body end
    ***********************************-->

    <!--**********************************
        Footer start
    ***********************************-->
    <div class="footer">
        <div class="copyright">
            <p>Copyright © Designed &amp; Developed by FYP-24-S3-14</a>
                <span class="current-year">2024</span></p>
        </div>
    </div>
    <!--**********************************
        Footer end
    ***********************************-->

    </div>
</div>
<!--**********************************
    Main wrapper end
***********************************-->

<!--**********************************
    Scripts
***********************************-->
<!-- Required vendors -->
<script th:src="@{/dashboardassets/vendor/global/global.min.js}"></script>
<script th:src="@{/dashboardassets/vendor/bootstrap-select/dist/js/bootstrap-select.min.js}"></script>
<script th:src="@{/dashboardassets/vendor/chart-js/chart.bundle.min.js}"></script>
<script th:src="@{/dashboardassets/vendor/owl-carousel/owl.carousel.js}"></script>

<!-- Chart piety plugin files -->
<!--<script th:src="@{/dashboardassets/vendor/peity/jquery.peity.min.js}"></script>-->

<!-- Apex Chart -->
<!--<script th:src="@{/dashboardassets/vendor/apexchart/apexchart.js}"></script>-->

<!-- Dashboard 1 -->
<!--<script th:src="@{/dashboardassets/js/dashboard/dashboard-1.js}"></script>-->

<script th:src="@{/dashboardassets/js/custom.min.js}"></script>
<script th:src="@{/dashboardassets/js/deznav-init.js}"></script>

<script>
    function carouselReview() {
        /*  testimonial one function by = owl.carousel.js */
        jQuery('.testimonial-one').owlCarousel({
            loop: true,
            margin: 10,
            autoplay: true,
            nav: false,
            center: true,
            rtl: true,
            dots: false,
            navText: ['<i class="fas fa-caret-left"></i>', '<i class="fas fa-caret-right"></i>'],
            responsive: {
                0: {
                    items: 2
                },
                400: {
                    items: 3
                },
                700: {
                    items: 5
                },
                991: {
                    items: 6
                },

                1200: {
                    items: 4
                },
                1600: {
                    items: 5
                }
            }
        })
    }

    // jQuery(window).on('load', function () {
    //     setTimeout(function () {
    //         carouselReview();
    //
    //     }, 1000);
    // });

    jQuery(document).ready(function(){
        setTimeout(function(){
            dezSettingsOptions.version = 'light';
            new dezSettings(dezSettingsOptions);

            setCookie('version','light');

        },1500)
    });

    window.addEventListener('DOMContentLoaded', function () {
        var mainWrapper = document.getElementById('main-wrapper');
        if (mainWrapper) {
            mainWrapper.classList.add('show');
        }
    });


    document.addEventListener('DOMContentLoaded', function () {
        // Select the collapse elements and chevrons
        var accountCollapseElement = document.querySelector('#accountSubmenu');
        var transferCollapseElement = document.querySelector('#transferSubmenu');
        var walletCollapseElement = document.querySelector('#walletSubmenu');

        var accountChevron = document.querySelector('a[data-bs-target="#accountSubmenu"] .dropdown-chevron');
        var transferChevron = document.querySelector('a[data-bs-target="#transferSubmenu"] .dropdown-chevron');
        var walletChevron = document.querySelector('a[data-bs-target="#walletSubmenu"] .dropdown-chevron');

        var digitalAlertElement = document.querySelector('#digitalTransactionAlert');
        var personalAlertElement = document.querySelector('#personalAccAlert');

        var digitalAlertChevron = document.querySelector('a[data-bs-target="#digitalTransactionAlert"] .dropdown-chevron');
        var personalAlertChevron= document.querySelector('a[data-bs-target="#personalAccAlert"] .dropdown-chevron');

        var collapsibles = [
            { element: accountCollapseElement, chevron: accountChevron },
            { element: transferCollapseElement, chevron: transferChevron },
            { element: walletCollapseElement, chevron: walletChevron }
        ];

        var collapsiblesBody = [
            { element: digitalAlertElement, chevron: digitalAlertChevron },
            { element: personalAlertElement, chevron: personalAlertChevron }
        ]

        function setupCollapseListener(collapseElement, chevron, location) {
            collapseElement.addEventListener('show.bs.collapse', function () {
                // Close other collapsibles and reset chevrons
                if(location === 'sidebar') {
                    collapsibles.forEach(function (item) {
                        if (item.element !== collapseElement) {
                            var bsCollapse = new bootstrap.Collapse(item.element, { toggle: false });
                            bsCollapse.hide();
                            item.chevron.classList.remove('fa-chevron-down');
                            item.chevron.classList.add('fa-chevron-right');
                        }
                    });
                } else {
                    collapsiblesBody.forEach(function (item) {
                        if (item.element !== collapseElement) {
                            var bsCollapse = new bootstrap.Collapse(item.element, { toggle: false });
                            bsCollapse.hide();
                            item.chevron.classList.remove('fa-chevron-down');
                            item.chevron.classList.add('fa-chevron-right');
                        }
                    });
                }

                // Update the chevron of the currently opened collapsible
                chevron.classList.remove('fa-chevron-right');
                chevron.classList.add('fa-chevron-down');
            });

            collapseElement.addEventListener('hide.bs.collapse', function () {
                chevron.classList.remove('fa-chevron-down');
                chevron.classList.add('fa-chevron-right');
            });
        }


        // Initialize listeners for each collapsible
        collapsibles.forEach(function (item) {
            if (item.chevron && item.element) {
                console.log("Sidebar " + item.chevron + item.element);
                setupCollapseListener(item.element, item.chevron, 'sidebar');
            }
        });

        // Initialize listeners for each collapsible
        collapsiblesBody.forEach(function (item) {
            if (item.chevron && item.element) {
                console.log("Body " + item.chevron + item.element);
                setupCollapseListener(item.element, item.chevron, 'body');
            }
        });

    });


</script>


<script>
    // Add event listener to form submission
    document.getElementById('notification-form').addEventListener('submit', function (event) {
        event.preventDefault();  // Prevent default form submission

        // Collect checkbox values
        const requestData = {
            addPayee: {
                email: document.getElementById('addCheckboxNotEmail').checked,
                sms: document.getElementById('addCheckboxNotSMS').checked
            },
            walletTopUp: {
                email: document.getElementById('topupCheckboxNotEmail').checked,
                sms: document.getElementById('topupCheckboxNotSMS').checked
            },
            walletWithdraw: {
                email: document.getElementById('withdrawCheckboxNotEmail').checked,
                sms: document.getElementById('withdrawCheckboxNotSMS').checked
            },
            transferToMyAccount: {
                email: document.getElementById('transAccCheckboxNotEmail').checked,
                sms: document.getElementById('transAccCheckboxNotSMS').checked
            },
            transferToOtherAccount: {
                email: document.getElementById('transOtherCheckboxNotEmail').checked,
                sms: document.getElementById('transOtherCheckboxNotSMS').checked
            },
            updateAccountDetails: {
                email: document.getElementById('updateAccCheckboxNotEmail').checked,
                sms: document.getElementById('updateAccCheckboxNotSMS').checked
            },
            updateBillingAddress: {
                email: document.getElementById('updateBillingCheckboxNotEmail').checked,
                sms: document.getElementById('updateBillingCheckboxNotSMS').checked
            }
        };

        // Send the data to the backend using fetch
        fetch('OnePay/notification-settings', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(requestData)
        })
            .then(response => response.json())
            .then(data => {
                if (data.status === 'success') {
                    console.log('Notification settings saved successfully:', data.message);
                    document.getElementById('resultMessage').innerHTML =
                        '<div class="alert alert-success">Settings saved successfully.</div>';
                } else {
                    console.log('Error saving settings:', data.message);
                    document.getElementById('resultMessage').innerHTML =
                        '<div class="alert alert-danger">Failed to save settings: ' + data.message + '</div>';
                }
            })
            .catch(error => {
                console.error('Error during saving settings:', error);
                document.getElementById('resultMessage').innerHTML =
                    '<div class="alert alert-danger">An error occurred. Please try again.</div>';
            });
    });

    // Add event listener to "Discard" button to clear all checkboxes
    document.querySelector('.btn-white').addEventListener('click', function () {
        // Clear all checkboxes in the form
        const checkboxes = document.querySelectorAll('#notification-form input[type="checkbox"]');
        checkboxes.forEach(checkbox => {
            checkbox.checked = false;
        });

        // Optional: clear any result message
        document.getElementById('resultMessage').innerHTML = '';
    });

</script>


</body>

</html>















